<!-- https://github.com/danwild/leaflet-velocity -->

<!doctype html>
<html>
<head>
    <title>LeafletVelocity Demo</title>
    <meta charset="utf-8">
</head>
<body>

<div id="map" style="width:600px;height:500px;background:black"></div>

<script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
<link rel="stylesheet" href="https://npmcdn.com/leaflet@1.3.0/dist/leaflet.css" />
<script src="https://npmcdn.com/leaflet@1.3.0/dist/leaflet.js"></script>

<link rel="stylesheet" href="../src/css/leaflet-velocity.css" />
<script src="../src/js/mdmv-worker.js"></script>
<script src="../src/js/windy.js"></script>
<script src="../src/js/L.CanvasLayer.js"></script>
<script src="../src/js/windy-layer-worker.js"></script>
<script src="../src/js/L.WindyLayer.js"></script>

<script>
var map = L.map('map', {
});
map.setView([7.5, 120.5], 9);

var colorScale = [
    "rgb(255, 255, 255)",
    "rgb(255, 255, 0)",
    "rgb(255, 0, 0)",
    "rgb(255, 0, 255)",
];
colorScale.indexFor = function(v) {
    if (v < 17) {
        return 0
    }
    if (v < 25) {
        return 1
    }
    if (v < 56) {
        return 2
    }
    return 3
};

var windyLayer = L.windyLayer({
        colorScale: colorScale
    });
map.addLayer(windyLayer);

WindyDataProxy.getData("wind-2.json", function(data) {
    windyLayer.setData(data)
})

</script>

</body>
</html>
